Passaggi eseguiti a terminale:

> sudo microk8s enable ha-cluster: abilità la HA (altà disponibilità)

> sudo microk8s enable dns: per migliorare la comunicazione tra i nodi del cluster


INIZIO:

build del dockerfile: immagine chiamata debian_v1

# Installare dipendenze
RUN apt-get update && apt-get install -y \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg2 \
    software-properties-common \
    lsb-release \
    bash-completion \
    iproute2 \
    iputils-ping \
    wget


run container


INSTALLAZIONE KIND:

curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.20.0/kind-linux-arm64
sudo rm /usr/local/bin/kind # per sicurezza
chmod +x ./kind
sudo mv ./kind /usr/local/bin/kind

Per creare il cluster Kind:
sudo kind create cluster --config kind-config.yaml
sudo kind delete cluster: rimuove tutti i nodi del cluster

sudo kind get nodes
sudo kind get clusters
sudo kind export kubeconfig --name kind: se kubectl non punta al cluster kind
sudo kubectl config get-contexts: per vedere se punta a kind
sudo kubectl config use-context kind-kind: per usare il giusto contesto

sudo kubectl cluster-info --context kind-kind: per vedere il cluster
sudo kubectl get nodes: vedi i nodi


sudo snap install kubectl --classic: installa kubectl

